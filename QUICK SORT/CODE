#include<stdio.h>
#include<conio.h>
#include<stdlib.h>
#include<time.h>
int ct,sw;
void quicksort(int a[],int low,int high)
{
 int s;
 if(low<high)
 {
 s=partition(a,low,high);
 quicksort(a,low,s-1);
 quicksort(a,s+1,high);
 }
}
int partition(int a[],int low,int high)
{
int p,i,j,temp;
p=a[low];
i=low+1;
j=high;
while(1)
{
 while(a[i]<=p && i<high)
 i++,ct++; 
 while(a[j]>p)
 j--,ct++; 
 if(i<j)
 {
 sw++;
temp=a[i];
a[i]=a[j];
 a[j]=temp;
 }
 else
 {
sw++; 
temp=a[low];
a[low]=a[j];
a[j]=temp;
return j;
 }
 } 
}
void main()
{
 double startTime,endTime;
 int a[500],i,n;
 I:printf("=====================================\n\n");
 printf(" To sort the Integer elements using Quick Sort Method\n\n");
 printf("=====================================\n\n");
 printf("\nEnter the Number of elements to be sorted which is less than the array size 500\n");
 scanf("%d",&n);
 if(n>0 && n<=500) 
 {
 for(i=0;i<n;i++)
 {
a[i] = rand()%1000; 
}
}
 else
 {
 printf("Invalid input.. please try again...\n");
 goto I;
 }
 printf("\n~~ OUTPUT ~~\n");
 printf("The Inputs generated by Random Number Generated are \n");
for(i=0;i<n;i++)
 printf("%d ",a[i]);
 startTime=clock();
quicksort(a,0,n-1);
endTime=clock();
printf("\n\nTime taken is %f\n",(((double)(endTime-startTime))/CLOCKS_PER_SEC));
printf("\n Sorted Integer Array \n");
for(i=0;i<n;i++)
printf("%d ",a[i]);
printf("\n\n** Analysis of Quick Sort Algorithm **\n\n");
printf("The Basic Operation of Quick Sort algorithm are Comparision and Swap ");
printf(" \nThe number of Comparisions are : %d units",ct);
printf(" \nThe number of Swaps are : %d units",sw);
printf("\n\n * Thank You *\n");
getch();
 }
